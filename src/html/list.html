<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="../css/reset.css">
  <link rel="stylesheet" href="../iconfont/iconfont.css">
  <link rel="stylesheet" href="../css/list.css">
  <link rel="stylesheet" href="../css/swiper-bundle.min.css">
  <script src="../js/jquery.3.5.1.js"></script>
</head>

<body>
  <!-- 列表页头部 -->
  <div class="wrap">
    <div class="container fix_clear">
      <div class="wrap_toolbar fl">
        <a href="javascript:;">小米商城</a><span>|</span>
        <a href="javascript:;">MIUI</a><span>|</span>
        <a href="javascript:;">loT</a><span>|</span>
        <a href="javascript:;">云服务</a><span>|</span>
        <a href="javascript:;">小米</a><span>|</span>
        <a href="javascript:;">小米</a><span>|</span>
        <a href="javascript:;">小爱开放平台</a><span>|</span>
        <a href="javascript:;">小米商城</a><span>|</span>
        <a href="javascript:;">小米商城</a><span>|</span>
        <a href="javascript:;" class="lowdown">下载app
          <span class="code">
            <img src="../images/app.png" alt="">
            <p>小米商城</p>
          </span>
        </a><span>|</span>
        <a href="javascript:;">小米商城</a><span>|</span>
        <a href="javascript:;">智能生活</a><span>|</span>
        <a href="javascript:;">Select Location</a>
      </div>
      <div class="shopping fr">
        <a href="javascript:;">
          <i class="iconfont icon-gouwucheman"></i>
          <span>|</span>
          <em>购物车</em>
          <span>|</span>
          <span>(0)</span>
        </a>
        <div class="tips">
          购物车中还没商品，赶紧选购吧！
        </div>
      </div>
      <div class="jump fr">
        <a href="login.html" class="login">登录</a>
        <span>|</span>
        <a href="register.html" class="register">注册</a>
        <span>|</span>
        <a href="javascript:;">消息通知</a>
      </div>
    </div>
  </div>
  <!-- main主体部分 -->
  <div class="main">
    <div class="container ">
      <!-- 小米主体导航条部分 -->
      <div class="main_tab fix_clear">
        <h1 class="logo fl">
          <!-- <a href="./shouye.html"></a> -->
          <!-- <img src="../images/mi-logo.png" alt=""> -->
        </h1>
        <div class="main_nav fl">
          <span href="javascript:;" class="allShop">全部商品分类</span>
          <a href="javascript:;">小米手机</a>
          <a href="javascript:;">小米手机</a>
          <a href="javascript:;">电视</a>
          <a href="javascript:;">笔记本</a>
          <a href="javascript:;">家电</a>
          <a href="javascript:;">路由器</a>
          <a href="javascript:;">小米手机</a>
          <a href="javascript:;">服务</a>
          <a href="javascript:;">社区</a>
        </div>
        <div class="find fr">
          <input type="search" placeholder="手机" class="search">
          <button class="sub_btn">
            <i class="iconfont icon-magnifier
          "></i>
          </button>
        </div>

      </div>

    </div>
  </div>
  <div class="box">
    <div class="container">
      <ul>
        <!-- <li>
        <div>
          <img src="../images/conten.jpg" alt="">
        </div>
        <h4 class="box_tit">收到货第十四</h4>
        <p class="price">5299<span>元起</span></p>
      </li>
      -->
      </ul>
    </div>
  </div>
  <ul class="shopCont">
    <li>
      <a href="javascript:;">手机电话卡
        <i class="iconfont icon-bussiness-man"></i>
      </a>
    </li>
    <li>
      <a href="javascript:;">手机电话卡
        <i class="iconfont icon-bussiness-man"></i>
      </a>
    </li>
    <li>
      <a href="javascript:;">手机电话卡
        <i class="iconfont icon-bussiness-man"></i>
      </a>
    </li>
    <li>
      <a href="javascript:;">手机电话卡
        <i class="iconfont icon-bussiness-man"></i>
      </a>
    </li>
    <li>
      <a href="javascript:;">手机电话卡
        <i class="iconfont icon-bussiness-man"></i>
      </a>
    </li>
    <li>
      <a href="javascript:;">手机电话卡
        <i class="iconfont icon-bussiness-man"></i>
      </a>
    </li>
    <li>
      <a href="javascript:;">手机电话卡
        <i class="iconfont icon-bussiness-man"></i>
      </a>
    </li>
    <li>
      <a href="javascript:;">手机电话卡
        <i class="iconfont icon-bussiness-man"></i>
      </a>
    </li>
    <li>
      <a href="javascript:;">手机电话卡
        <i class="iconfont icon-bussiness-man"></i>
      </a>
    </li>
    <li>
      <a href="javascript:;">手机电话卡
        <i class="iconfont icon-bussiness-man"></i>
      </a>
    </li>
  </ul>
  <div class="nav_link fix_clear">
    <!-- <ul class="link_con fl">
      <li>
        <div>
          <img
            src="https://cdn.cnbj0.fds.api.mi-img.com/b2c-mimall-media/8b3d235f4a5a5bf5c9d8d066d2166e6c.jpg?thumb=1&w=50&h=50"
            alt="">
        </div>
        <p>但是房价上升</p>
      </li>
    </ul> -->
    

  </div>
  <!-- 轮播图部分 -->
  <div class="swiper-container">
    <div class="swiper-wrapper">
      <div class="swiper-slide">
        <img src="../images/listbanner.jpg" alt="">
      </div>
    </div>
  </div>
  <!-- 明星产品 -->
  <div class="start">
    <div class="container">
      <h3 class="start_tit">
        明星产品
      </h3>
      <ul class="start_cont fix_clear">
        <li class="single fl">
          <div class="single_pic fl">
            <a href="" target="_blank" rel="noopener noreferrer">
              <img src="../images/start.jpg" alt="">
            </a>
          </div>
          <div class="single_intro fr">
            <h4 class="single_title">
              <a href="">
                说的很多话官方上帝撒旦说的
              </a>
            </h4>
            <p class="single_txt">官方上帝撒旦说的很多话官方上帝撒旦说的很多话官方上帝撒旦</p>
            <div class="single_money">
              <span>999</span><em>元起</em><i>888元</i>
            </div>
            <a href="javascript:;">立即预约</a>
          </div>
        </li>
        <li class=" double fl">
          <div class="picture">
            <a href="" target="_blank" rel="noopener noreferrer">
              <img src="../images/start.jpg" alt="">
            </a>
          </div>
          <div class="intro fix_clear">
            <div class="intro_left fl">
              <h4 class="title">
                <a href="">
                  说的很多话官方
                </a>
              </h4>
              <p class="txt">就是地方海事局好的</p>
            </div>
            <div class="intro_right fr">
              <span class="price">999</span><em>元起</em><i class="oldprice"></i>
            </div>
          </div>
        </li>
        <li class="double fl">
          <div class="picture">
            <a href="" target="_blank" rel="noopener noreferrer">
              <img src="../images/start.jpg" alt="">
            </a>
          </div>
          <div class="intro fix_clear">
            <div class="intro_left fl">
              <h4 class="title">
                <a href="">
                  说的很多话官方
                </a>
              </h4>
              <p class="txt">就是地方海事局好的</p>
            </div>
            <div class="intro_right fr">
              <span class="price">999</span><em>元起</em><i class="oldprice"></i>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
  <script src="../js/swiper-bundle.min.js"></script>
  <script>

    //logo切换跳转页面
    $('.logo').click(function () {
      location.href = "./index.html"
    })
    //全部商品分类部分
    console.log($('.main_nav span'))
    $('.allShop').hover(function(){
  
      $('.shopCont').css("display","block");
    },function(){
      $('.shopCont').css("display","none");

    })
    let num = 0;
    $.get('../data/nav.json',(data) =>{
      console.log(data)
      $('.shopCont a').hover(function(){
        num = $('.shopCont a').index(this);
        $(this).addClass('addCss');
        $('.nav_link').stop().show();
        // 将数据渲染到页面，数据渲染需要ul的个数
        let ulLength = Math.ceil(data[num].length / 6)
        let html = ""; let idx = 0;
        for (let i = 0; i < ulLength; i++) {
          html += "<ul class='link_con fl' >"
          for (let j = 0; j < 6; j++) {
            let ele = data[num][idx++];
            // console.log(ele)
            html += (ele ? `<li>
                <div>
                  <img src="${ele.img}" alt="">
                </div>
                <p>${ele.title}</p>
              </li>`: "");
          }
          html += '</ul>'
        }

        $('.nav_link').html(html)
      },function(){
        $(this).removeClass('addCss')
        $('.nav_link').stop().hide();

      })
    })

    $('.shopCont').hover(function(){
      $(this).css('display','block');
    },function(){
      $(this).css('display','none')
    })
    $('.nav_link').hover(function(){
      $(this).css('display','block')
      $('.shopCont').stop().show();
    },function(){
      $('.shopCont').stop().hide();
      $(this).css('display','none')
    })
    // main导航条部分
    let arr;
    $.post('../data/main.json', function (data) {
      $('.main_nav a:lt(7)').hover(function () {
        $('.box').stop().slideDown();
        let dix = $(this).index();
        console.log(dix)
        switch (dix) {
          case 1:
            arr = data.slice(0, 5);
            break;
          case 2:
            arr = data.slice(5, 11);

            break;
          case 3:
            arr = data.slice(11, 17);

            break;
          case 4:
            arr = data.slice(17, 23);

            break;
          case 5:
            arr = data.slice(23, 29);

            break;
          case 6:
            arr = data.slice(29, 35);

            break;
          case 7:
            arr = data.slice(35, 42);

            break;
        }
        console.log(arr)
        $('.box ul').html(arr.map(ele => `
    <li>
        <div>
          <img src=${ele.img}>
        </div>
        <h4 class="box_tit">${ele.title}</h4>
        <p class="price">${ele.price}<span>元起</span></p>
    </li>
    
    `).join(''))
      }, function () {
        $('.box').stop().slideUp('slow')
      })

    })

    $('.box').hover(function () {
      $(this).stop().slideDown()
    }, function () {
      $(this).stop().slideUp('slow')

    })
    // 轮播图部分
    var mySwiper = new Swiper('.swiper-container', {
      loop: true,
      autoplay: true,//可选选项，自动滑动
    })
    $('.swiper-container').hover(function () {
      mySwiper.autoplay.stop();
    }, function () {
      mySwiper.autoplay.start();
    })
    //  明星产品
    $.get('../data/list.json', function (data) {
      $('.start_cont').html(data.map(item => {
        if (item.line === 1) {
          return `
           <li class="single fl">
              <div class="single_pic fl">
                <a href="detail.html?id=${item.id}" target="_blank" rel="noopener noreferrer">
                  <img src="${item.img}" alt="">
                </a>
              </div>
              <div class="single_intro fr">
                <h4 class="single_title">
                   <a href="detail.html?id=${item.id}">
                     ${item.title}
                   </a>
                </h4>
              <p class="single_txt">${item.txt}</p>
              <div class="single_money">
                <span>${item.price}</span><em>${item.yuan}</em><i>${item.oldprice ? item.oldprice : ''}</i>
              </div>
              <a href="javascript:;">立即预约</a>
            </div>
        </li>
           `
        } else {
          return `
          <li class="double fl">
          <div class="picture">
            <a href="detail.html?id=${item.id}" target="_blank" rel="noopener noreferrer">
              <img src="${item.img}" alt="">
            </a>
          </div>
          <div class="intro fix_clear">
            <div class="intro_left fl">
              <h4 class="title">
                <a href="detail.html?id=${item.id}">
                  ${item.title}
                </a>
              </h4>
              <p class="txt">${item.txt}</p>
            </div>
            <div class="intro_right fr">
              <span class="price">${item.price}</span><em>${item.yuan}</em><i class="oldprice">${item.oldprice ? item.oldprice : ''}</i>
            </div>
          </div>
        </li>
          `
        }
      }).join(''))

      $('.double:odd').css("margin-right", '0')
    })
  </script>
</body>

</html>